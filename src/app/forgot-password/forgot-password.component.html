<div class="all">
  <div class="forgot-container">
    <div class="logo"></div>
    <div class="forgot-form">
      <h2>Mot de passe oublié</h2>
      <div class="error-message" *ngIf="errorMessage">{{ errorMessage }}</div>
      <div class="success-message" *ngIf="successMessage">{{ successMessage }}</div>
      <!-- Étape 1 : Saisie de l'email -->
      <div *ngIf="step === 1">
        <form (ngSubmit)="requestResetCode()">
          <input
            type="email"
            placeholder="Entrez votre email"
            [(ngModel)]="mail"
            name="mail"
            required
          >
          <button type="submit">Envoyer le code</button>
        </form>
      </div>
      <!-- Étape 2 : Vérification du code -->
      <div *ngIf="step === 2">
        <form (ngSubmit)="verifyCode()">
          <input
            type="text"
            placeholder="Code à 6 chiffres"
            [(ngModel)]="code"
            name="code"
            required
          >
          <button type="submit">Vérifier</button>
        </form>
      </div>
      <!-- Étape 3 : Nouveau mot de passe -->
      <div *ngIf="step === 3">
        <form (ngSubmit)="resetPassword()">
          <input
            type="password"
            placeholder="Nouveau mot de passe"
            [(ngModel)]="newPassword"
            name="newPassword"
            required
          >
          <button type="submit">Réinitialiser</button>
        </form>
      </div>
      <div class="links">
        <a routerLink="/login" class="link">Retour à la connexion</a>
        <a routerLink="/home" class="link">Retour à l'accueil</a>
      </div>
    </div>
  </div>
</div>