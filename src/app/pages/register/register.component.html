<!-- register.component.html -->
<div class="all">
  <div class="register-container">
    <div class="logo"></div>
    <form class="register-form" (submit)="register(); $event.preventDefault()">
      <h2>Inscription</h2>
      
      <label for="nom">Nom</label>
      <input type="text" id="nom" [(ngModel)]="user.nom" name="nom" required placeholder="Votre nom">
      
      <label for="prenom">Prénom</label>
      <input type="text" id="prenom" [(ngModel)]="user.prenom" name="prenom" required placeholder="Votre prénom">
      
      <label for="gender">Genre</label>
      <select id="gender" [(ngModel)]="user.gender" name="gender" required>
        <option value="female">Femme</option>
        <option value="male">Homme</option>
        <option value="other">Autre</option>
      </select>
      
      <label for="date_naissance">Date de naissance</label>
      <input type="date" id="date_naissance" [(ngModel)]="user.date_naissance" name="date_naissance" 
             required (change)="checkAge()">
      <div class="error-message" *ngIf="!ageValid">{{errorMessage}}</div>
      
      <label for="telephone">Téléphone</label>
      <input type="tel" id="telephone" [(ngModel)]="user.telephone" name="telephone" placeholder="Numéro de téléphone">
      
      <label for="mail">Email</label>
      <input type="email" id="mail" [(ngModel)]="user.mail" name="mail" required placeholder="Votre email">
      
      <label for="password">Mot de passe</label>
      <input type="password" id="password" [(ngModel)]="user.password" name="password" required 
             placeholder="Créez un mot de passe">
      
      <label for="confirmPassword">Confirmez le mot de passe</label>
      <input type="password" id="confirmPassword" [(ngModel)]="confirmPassword" name="confirmPassword" required 
             placeholder="Confirmez votre mot de passe">
      
    <div class="terms-section">
  <label for="acceptTerms">
    <input type="checkbox" id="acceptTerms" [(ngModel)]="acceptTerms" name="acceptTerms" required>
    J'accepte les <a href="javascript:void(0)" (click)="showTerms = true">conditions générales</a>
  </label>
</div>
      
      <div class="error-message" *ngIf="errorMessage && ageValid">{{errorMessage}}</div>
      
      <button type="submit" [disabled]="!acceptTerms">S'inscrire</button>
      
      <a routerLink="/login" class="link">Déjà inscrit? Connectez-vous ici</a>
    </form>
  </div>

  <!-- Modal pour les conditions générales -->
  <div class="terms-modal" *ngIf="showTerms">
    <div class="terms-content">
      <span class="close" (click)="showTerms = false">&times;</span>
      <h3>Conditions générales d'utilisation</h3>
      <ol>
        <li>Vous devez avoir au moins 18 ans pour utiliser ce service.</li>
        <li>Vous êtes responsable de la confidentialité de votre compte et mot de passe.</li>
        <li>Les contenus illégaux ou offensants sont strictement interdits.</li>
        <li>Nous nous réservons le droit de suspendre tout compte violant nos règles.</li>
        <li>Vos données personnelles seront traitées conformément à notre politique de confidentialité.</li>
        <li>Toute activité frauduleuse entraînera la résiliation immédiate de votre compte.</li>
        <li>Vous acceptez de recevoir des communications relatives à votre compte.</li>
      </ol>
      <button (click)="showTerms = false">Fermer</button>
    </div>
  </div>
</div>